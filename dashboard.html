<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - FlorenceBot Pro</title>
    <meta name="description" content="Manage your study guides, track progress, and access your premium content.">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">

    <!-- Theme Color -->
    <meta name="theme-color" content="#2E86AB">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="auth-styles.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Source+Sans+3:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Page Loader -->
    <div class="page-loader" id="page-loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="index.html">
                    <img src="assets/images/new-logo.png" alt="FlorenceBot Pro Logo" class="nav-logo">
                </a>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                
                <a href="guides.html">Study Guides</a>
                <a href="pricing.html">Pricing</a>
                <a href="about-florencebot.html">About FlorenceBot</a>
                <a href="dashboard.html" class="active">Dashboard</a>
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fas fa-sun light-icon"></i>
                    <i class="fas fa-moon dark-icon"></i>
                </button>
                <div class="user-menu">
                    <button class="user-avatar" id="user-menu-btn">
                        <i class="fas fa-user-circle"></i>
                    </button>
                    <div class="user-dropdown" id="user-dropdown">
                        <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Dashboard -->
    <section class="dashboard">
        <div class="container">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <h1>Welcome back!</h1>
                <div class="user-stats">
                    <div class="stat">
                        <span class="number">0</span>
                        <span class="label">Study Guides</span>
                    </div>
                    <div class="stat">
                        <span class="number">0</span>
                        <span class="label">Days Active</span>
                    </div>
                    <div class="stat">
                        <span class="number" id="member-since">Jan 2026</span>
                        <span class="label">Member Since</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Getting Started Card (only shows for new users) -->
                <div class="dashboard-card" id="getting-started-card" style="grid-column: 1 / -1; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: none;">
                    <h3 style="color: white;"><i class="fas fa-rocket"></i> Welcome to FlorenceBot Pro!</h3>
                    <p style="margin: 16px 0; opacity: 0.95;">Get started with these quick steps to make the most of your account:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-top: 20px;">
                        <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-book-open" style="font-size: 32px; margin-bottom: 12px;"></i>
                            <h4 style="color: white; font-size: 1rem; margin-bottom: 8px;">Browse Study Guides</h4>
                            <p style="font-size: 0.9rem; opacity: 0.9;">Explore our NCLEX-focused study materials</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 12px;">
                            <i class="fab fa-discord" style="font-size: 32px; margin-bottom: 12px;"></i>
                            <h4 style="color: white; font-size: 1rem; margin-bottom: 8px;">Join Our Community</h4>
                            <p style="font-size: 0.9rem; opacity: 0.9;">Connect with fellow nursing students on Discord</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-crown" style="font-size: 32px; margin-bottom: 12px;"></i>
                            <h4 style="color: white; font-size: 1rem; margin-bottom: 8px;" id="premium-step-title">Upgrade to Premium</h4>
                            <p style="font-size: 0.9rem; opacity: 0.9;" id="premium-step-desc">Unlock all features and study guides</p>
                        </div>
                    </div>
                    <button style="background: white; color: #667eea; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; margin-top: 20px; cursor: pointer;" onclick="document.getElementById('getting-started-card').style.display='none';">
                        <i class="fas fa-check"></i> Got it!
                    </button>
                </div>

                <!-- My Study Guides Card -->
                <div class="dashboard-card">
                    <h3><i class="fas fa-book-medical"></i> My Study Guides</h3>
                    <div class="guide-list" id="guide-list">
                        <!-- Empty state -->
                        <div class="empty-state" style="text-align: center; padding: 60px 20px;">
                            <i class="fas fa-book-open" style="font-size: 64px; color: var(--primary-color); opacity: 0.3; margin-bottom: 20px;"></i>
                            <h4 style="color: var(--text-primary); margin-bottom: 12px;">No Study Guides Yet</h4>
                            <p style="color: var(--text-secondary); margin-bottom: 24px;">Get started by browsing our collection of NCLEX-focused study materials</p>
                        </div>
                    </div>

                    <button class="btn-secondary btn-pulse" style="width: 100%; margin-top: 20px;" onclick="window.location.href='guides.html'">
                        <i class="fas fa-plus"></i> Browse Study Guides
                    </button>
                </div>

                <!-- Discord Connection Card -->
                <div class="dashboard-card" id="discord-card">
                    <h3><i class="fab fa-discord"></i> Discord Connection</h3>
                    <div class="discord-status">
                        <span class="status" id="discord-status">
                            <i class="fas fa-times-circle"></i> Not Connected
                        </span>
                        <p style="margin-top: 16px;" id="discord-info">
                            Connect your Discord account to access FlorenceBot commands and join The Nursing Collective community
                        </p>
                        <button class="btn-secondary" style="margin-top: 20px;" onclick="window.open('https://discord.gg/y2Mh77wAV2', '_blank')">
                            <i class="fab fa-discord"></i> Join Discord Server
                        </button>
                    </div>
                </div>

                <!-- Subscription Status Card -->
                <div class="dashboard-card" id="subscription-card">
                    <h3 id="subscription-title"><i class="fas fa-crown"></i> Subscription Status</h3>
                    <div class="subscription-status">
                        <span class="status" id="subscription-status">
                            <i class="fas fa-info-circle"></i> Free Account
                        </span>
                        <p style="margin-top: 16px;" id="subscription-info">
                            Upgrade to premium to unlock all study guides and exclusive Discord features
                        </p>
                        <div style="padding: 16px; background: var(--background-light); border-radius: 12px; margin: 20px 0; text-align: left;" id="subscription-details">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: var(--text-secondary); font-size: 0.9rem;">Account Type</span>
                                <span style="color: var(--text-primary); font-weight: 600;" id="account-type">Free</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary); font-size: 0.9rem;">Member Since</span>
                                <span style="color: var(--text-primary); font-weight: 600;" id="member-date">-</span>
                            </div>
                        </div>
                        <button class="btn-secondary" id="subscription-action" onclick="window.location.href='pricing.html'">
                            <i class="fas fa-crown"></i> Upgrade to Premium
                        </button>
                    </div>
                </div>

                <!-- Recent Activity Card -->
                <div class="dashboard-card" style="grid-column: span 1;">
                    <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                    <div class="empty-state" style="text-align: center; padding: 40px 20px;">
                        <i class="fas fa-history" style="font-size: 48px; color: var(--primary-color); opacity: 0.3; margin-bottom: 16px;"></i>
                        <h4 style="color: var(--text-primary); margin-bottom: 8px; font-size: 1rem;">Activity Tracking Coming Soon</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Your study progress and activity history will appear here</p>
                    </div>
                </div>

                <!-- Quick Actions Card -->
                <div class="dashboard-card" style="grid-column: span 1;">
                    <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="window.location.href='guides.html'">
                            <i class="fas fa-book-open"></i>
                            <span>Browse Guides</span>
                        </button>
                        <button class="quick-action-btn" onclick="alert('Practice questions coming soon!')">
                            <i class="fas fa-question-circle"></i>
                            <span>Practice Questions</span>
                        </button>
                        <button class="quick-action-btn" onclick="window.open('https://discord.gg/y2Mh77wAV2', '_blank')">
                            <i class="fab fa-discord"></i>
                            <span>Join Discord</span>
                        </button>
                        <button class="quick-action-btn" onclick="window.location.href='about-florencebot.html'">
                            <i class="fas fa-robot"></i>
                            <span>About FlorenceBot</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin User Management Modal -->
    <div class="modal-overlay" id="admin-user-modal" style="display: none;">
        <div class="modal-content" style="max-width: 900px; max-height: 80vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 id="modal-title">Users</h2>
                <button class="modal-close" onclick="closeAdminModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="user-filters" style="display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button class="filter-btn active" data-filter="all">All Users</button>
                    <button class="filter-btn" data-filter="today">Joined Today</button>
                    <button class="filter-btn" data-filter="yesterday">Joined Yesterday</button>
                    <button class="filter-btn" data-filter="week">This Week</button>
                    <button class="filter-btn" data-filter="premium">Premium</button>
                    <button class="filter-btn" data-filter="free">Free</button>
                </div>
                <div id="users-table-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <img src="assets/images/favicon.png" alt="FlorenceBot Pro" class="footer-logo">
                        <span>FlorenceBot Pro</span>
                    </div>
                    <p>Empowering nursing students with AI-powered clinical references and study tools.</p>
                </div>

                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="guides.html">Study Guides</a></li>
                        <li><a href="pricing.html">Pricing</a></li>
                        <li><a href="https://discord.gg/y2Mh77wAV2">Discord Server</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>Contact</h4>
                    <p>
                        <i class="fas fa-envelope"></i>
                        <a href="mailto:support@florencebot.pro">support@florencebot.pro</a>
                    </p>
                    <div class="social-links">
                        <a href="https://discord.gg/y2Mh77wAV2" aria-label="Discord" target="_blank" rel="noopener">
                            <i class="fab fa-discord"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2026 FlorenceBot Pro. Built with ❤️ for nursing students.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Dark Mode Manager -->
    <script src="dark-mode.js"></script>

    <script src="script.js?v=2"></script>
    <script src="dashboard-script.js?v=2"></script>
</body>
</html>
